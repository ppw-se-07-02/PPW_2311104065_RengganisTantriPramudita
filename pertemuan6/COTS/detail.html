<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="detailTitle">Renfoodie - Detail Produk</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #ff9a9e;
            --secondary-color: #fad0c4;
            --accent-color: #ffeaa7;
            --text-dark: #2d3436;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
        }
        
        /* Navbar (sama seperti index.html) */
        .navbar {
            background: white;
            box-shadow: 0 4px 15px rgba(255, 154, 158, 0.2);
            border-bottom: 3px solid var(--primary-color);
            padding: 15px 0;
        }
        
        .navbar-brand {
            font-weight: bold;
            color: var(--primary-color) !important;
            font-size: 1.8rem;
        }
        
        .navbar-nav .nav-link {
            color: var(--text-dark) !important;
            font-weight: 500;
            margin: 0 15px;
            padding: 8px 20px !important;
            border-radius: 25px;
            transition: all 0.3s;
        }
        
        .navbar-nav .nav-link:hover {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white !important;
            transform: translateY(-2px);
        }
        
        /* Main Content */
        .detail-section {
            padding: 50px 0;
        }

        .product-image-container {
            border-radius: 25px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            background: #fff9f9;
        }

        .product-image {
            width: 100%;
            height: auto;
            object-fit: cover;
            aspect-ratio: 1 / 1;
        }

        .product-details {
            background: white;
            padding: 30px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(255, 154, 158, 0.15);
            height: 100%;
        }

        .product-name {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--text-dark);
            margin-bottom: 10px;
        }

        .category-badge-detail {
            background: linear-gradient(135deg, #ffeaa7, #fdcb6e);
            color: var(--text-dark);
            padding: 8px 18px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 20px;
        }
        
        .product-rating-detail {
            color: #ffeaa7;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        .product-rating-detail i {
            filter: drop-shadow(0 0 2px rgba(255, 200, 0, 0.5));
        }

        .product-price-detail {
            font-size: 3rem;
            font-weight: bold;
            color: #ff6b6b;
            margin: 20px 0;
        }

        .btn-add-cart-detail {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 50px;
            padding: 15px 40px;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 1.2rem;
            width: 100%;
            max-width: 300px;
        }

        .btn-add-cart-detail:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(255, 154, 158, 0.4);
        }

        .product-description h4 {
            color: var(--primary-color);
            margin-top: 30px;
            margin-bottom: 15px;
        }

        .product-description p {
            line-height: 1.8;
            color: #636e72;
        }
        
        /* Toast (sama seperti index.html) */
        .toast-container {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 9999;
        }
        
        .custom-toast {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(255, 154, 158, 0.3);
            min-width: 300px;
            border: 2px solid var(--primary-color);
        }
        
        .toast-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 13px 13px 0 0;
        }
        
        /* Footer (sama seperti index.html) */
        .footer {
            background: white;
            padding: 30px 0;
            margin-top: 50px;
            border-top: 3px solid var(--primary-color);
        }
        
        .footer-content {
            text-align: center;
            color: var(--text-dark);
        }
        
        .footer-content h5 {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .footer-content p {
            margin: 5px 0;
            color: #636e72;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-utensils"></i> Renfoodie
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Beranda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#productsGrid">Produk</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Login</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container detail-section">
        <div class="row">
            <div class="col-12 mb-4">
                <a href="index.html" class="btn btn-outline-secondary rounded-pill">
                    <i class="fas fa-arrow-left"></i> Kembali ke Beranda
                </a>
            </div>
            
            <div class="col-lg-5">
                <div class="product-image-container">
                    <img id="productImage" src="" class="product-image" alt="Gambar Produk">
                </div>
            </div>
            <div class="col-lg-7">
                <div class="product-details">
                    <span id="productCategory" class="category-badge-detail"></span>
                    <h1 id="productName" class="product-name">Nama Produk</h1>
                    
                    <div id="productRating" class="product-rating-detail">
                        </div>

                    <p id="productShortDesc" class="lead text-muted"></p>

                    <div class="product-price-detail" id="productPrice">Rp 0</div>

                    <div class="d-grid gap-2">
                        <button class="btn btn-add-cart-detail" onclick="addToCartDetail(event)">
                            <i class="fas fa-cart-plus"></i> Tambah ke Keranjang
                        </button>
                    </div>

                    <div class="product-description">
                        <h4><i class="fas fa-info-circle"></i> Deskripsi Produk Lengkap</h4>
                        <p id="productLongDesc">
                            </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container">
        </div>

    <footer class="footer">
        <div class="container footer-content">
            <h5></h5>
            <p>Penyedia makanan dan minuman terbaik untuk momen spesial Anda.</p>
            <p class="mt-3 text-muted">FoodieCorner &copy; 2025 &mdash; by Rengganis Tantri Pramudita (2311104065)</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Data Produk (Disesuaikan dengan index.html)
        const productsData = [
            {
                id: 1,
                name: "Beef Burger Klasik Premium",
                category: "Makanan",
                price: "45.000",
                rating: 4.5,
                shortDesc: "Burger lezat dengan daging sapi premium, keju, dan saus spesial.",
                longDesc: "Beef Burger Klasik Premium kami dibuat dengan 100% daging sapi pilihan yang dipanggang sempurna, diapit oleh roti brioche lembut. Ditambah dengan irisan keju cheddar leleh, sayuran segar, dan saus rahasia FoodieCorner. Pilihan sempurna untuk makan siang atau malam yang mengenyangkan.",
                image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=800&h=800&fit=crop"
                
            },
            
            {
                id: 1,
                name: "Beef Burger Klasik Premium",
                category: "Makanan",
                price: "45.000",
                rating: 4.5,
                shortDesc: "Burger lezat dengan daging sapi premium, keju, dan saus spesial.",
                longDesc: "Beef Burger Klasik Premium kami dibuat dengan 100% daging sapi pilihan yang dipanggang sempurna, diapit oleh roti brioche lembut. Ditambah dengan irisan keju cheddar leleh, sayuran segar, dan saus rahasia FoodieCorner. Pilihan sempurna untuk makan siang atau malam yang mengenyangkan.",
                image: "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=800&h=800&fit=crop"
                
            },
            {
                id: 2,
                name: "Pizza Margherita Spesial",
                category: "Makanan",
                price: "85.000",
                rating: 5.0,
                shortDesc: "Pizza Italia autentik dengan saus tomat segar, mozzarella, dan daun basil.",
                longDesc: "Nikmati cita rasa Italia sejati dengan Pizza Margherita Spesial kami. Adonan tipis dan renyah, saus tomat San Marzano, keju mozzarella segar, dan diakhiri dengan daun basil. Dipanggang dengan suhu sempurna untuk menghasilkan rasa yang otentik dan tak terlupakan.",
                image: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=800&h=800&fit=crop"
            },
            {
                id: 3,
                name: "Caramel Latte Premium",
                category: "Minuman",
                price: "35.000",
                rating: 4.8,
                shortDesc: "Paduan espresso, susu, dan sirup caramel manis, disajikan hangat atau dingin.",
                longDesc: "Caramel Latte Premium kami menggunakan biji espresso Arabika pilihan, dipadukan dengan susu segar dan sirup caramel yang kaya rasa. Ideal sebagai penyemangat pagi atau teman bersantai di sore hari. Tersedia dalam pilihan panas atau dingin.",
                image: "https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=800&h=800&fit=crop"
            },
            {
                id: 4,
                name: "Fresh Strawberry Smoothie",
                category: "Minuman",
                price: "28.000",
                rating: 4.7,
                shortDesc: "Smoothie segar dari buah strawberry asli, tanpa pemanis buatan berlebihan.",
                longDesc: "Fresh Strawberry Smoothie adalah pilihan sehat dan menyegarkan. Dibuat dari buah strawberry segar, sedikit yogurt, dan es. Rasanya manis alami, sempurna untuk mendinginkan diri dan mendapatkan asupan vitamin.",
                image: "https://images.unsplash.com/photo-1553530666-ba11a7da3888?w=800&h=800&fit=crop"
            },
            {
                id: 5,
                name: "Creamy Carbonara Pasta",
                category: "Makanan",
                price: "55.000",
                rating: 4.6,
                shortDesc: "Pasta creamy dengan saus keju parmesan, telur, dan irisan daging asap.",
                longDesc: "Creamy Carbonara Pasta yang kaya rasa. Pasta fettuccine dimasak al dente dan dibalut dengan saus creamy otentik dari telur, keju parmesan, dan irisan daging asap. Makanan klasik yang selalu memuaskan.",
                image: "https://images.unsplash.com/photo-1612874742237-6526221588e3?w=800&h=800&fit=crop"
            }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const params = new URLSearchParams(window.location.search);
            const productId = parseInt(params.get('id'));
            
            if (productId) {
                loadProductDetail(productId);
            } else {
                // Tampilkan pesan error atau redirect jika tidak ada ID
                document.getElementById('productName').textContent = "Produk Tidak Ditemukan";
                document.getElementById('productShortDesc').textContent = "Mohon kembali ke halaman utama dan pilih produk yang valid.";
                document.getElementById('productPrice').textContent = "";
                document.getElementById('productImage').src = "";
                document.getElementById('productLongDesc').textContent = "";
            }
        });

        function loadProductDetail(id) {
            const product = productsData.find(p => p.id === id);

            if (product) {
                document.getElementById('detailTitle').textContent = `FoodieCorner - ${product.name}`;
                document.getElementById('productName').textContent = product.name;
                document.getElementById('productCategory').textContent = product.category;
                document.getElementById('productShortDesc').textContent = product.shortDesc;
                document.getElementById('productLongDesc').textContent = product.longDesc;
                document.getElementById('productPrice').textContent = `Rp ${product.price}`;
                document.getElementById('productImage').src = product.image;
                document.querySelector('.btn-add-cart-detail').setAttribute('data-product-name', product.name);

                // Load Rating
                const ratingContainer = document.getElementById('productRating');
                ratingContainer.innerHTML = generateRatingHTML(product.rating);
            } else {
                document.getElementById('productName').textContent = "Produk Tidak Ditemukan";
                document.getElementById('productShortDesc').textContent = "ID produk tidak valid.";
                document.getElementById('productPrice').textContent = "";
                document.getElementById('productImage').src = "";
                document.getElementById('productLongDesc').textContent = "";
            }
        }

        function generateRatingHTML(rating) {
            let html = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;

            for (let i = 0; i < fullStars; i++) {
                html += '<i class="fas fa-star"></i>';
            }
            if (hasHalfStar) {
                html += '<i class="fas fa-star-half-alt"></i>';
            }
            // Add muted span for rating number
            html += `<span class="text-muted ms-2">(${rating.toFixed(1)})</span>`;
            return html;
        }

        function showToast(message) {
            const toastContainer = document.querySelector('.toast-container');
            const toastId = `toast-${Date.now()}`;
            
            const toastHTML = `
                <div class="toast custom-toast" role="alert" aria-live="assertive" aria-atomic="true" id="${toastId}">
                    <div class="toast-header">
                        <i class="fas fa-check-circle me-2"></i>
                        <strong class="me-auto">Sukses!</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body text-dark">
                        ${message}
                    </div>
                </div>
            `;
            
            toastContainer.insertAdjacentHTML('beforeend', toastHTML);
            
            const toastElement = document.getElementById(toastId);
            const toast = new bootstrap.Toast(toastElement);
            toast.show();

            // Auto-remove toast after it's hidden
            toastElement.addEventListener('hidden.bs.toast', () => {
                toastElement.remove();
            });
        }
        
        function addToCartDetail(event) {
            // Stop propagation to prevent card's click event if any
            event.stopPropagation();
            const productName = event.target.getAttribute('data-product-name');
            showToast(`"${productName}" berhasil ditambahkan ke keranjang!`);
        }

        // --- JavaScript untuk index.html agar bisa memanggil detail.html dengan benar ---
        // Anda perlu memastikan fungsi ini ada di index.html atau di file JS terpisah yang sama-sama di-load.
        
        // Simulasikan fungsi goToDetail yang dipanggil di index.html
        // function goToDetail(id) {
        //     window.location.href = `detail.html?id=${id}`;
        // }
    </script>
</body>
</html>